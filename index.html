<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Analytics (GA4) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-97N6TGY3J4"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-97N6TGY3J4');
  </script>

  <meta charset="UTF-8">
  <title>Search Intent Mismatch Checker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    * { box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Inter, Arial, sans-serif;
      background: #f9fafb;
      margin: 0;
      color: #111827;
    }

    .container {
      max-width: 900px;
      margin: 60px auto;
      background: #ffffff;
      padding: 36px;
      border-radius: 14px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.06);
    }

    header {
      margin-bottom: 32px;
    }

    h1 {
      font-size: 30px;
      margin-bottom: 8px;
    }

    header p {
      color: #6b7280;
      font-size: 16px;
    }

    label {
      font-weight: 600;
      display: block;
      margin-top: 20px;
    }

    input, textarea {
      width: 100%;
      padding: 14px;
      margin-top: 8px;
      font-size: 15px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
    }

    textarea {
      resize: vertical;
      min-height: 160px;
    }

    button {
      margin-top: 28px;
      padding: 14px;
      font-size: 16px;
      font-weight: 600;
      border-radius: 10px;
      border: none;
      background: #2563eb;
      color: white;
      cursor: pointer;
    }

    button:disabled {
      background: #93c5fd;
      cursor: not-allowed;
    }

    .result {
      margin-top: 36px;
      padding: 24px;
      border-radius: 12px;
      line-height: 1.6;
    }

    .match {
      background: #ecfdf5;
      border: 1px solid #10b981;
    }

    .partial {
      background: #fffbeb;
      border: 1px solid #f59e0b;
    }

    .mismatch {
      background: #fef2f2;
      border: 1px solid #ef4444;
    }

    .badge {
      display: inline-block;
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 14px;
      font-weight: 600;
    }

    .informational { background: #e0f2fe; color: #0369a1; }
    .commercial { background: #fef3c7; color: #92400e; }
    .transactional { background: #ede9fe; color: #5b21b6; }

    .high { color: #059669; }
    .medium { color: #d97706; }
    .low { color: #dc2626; }

    footer {
      margin-top: 48px;
      padding-top: 16px;
      border-top: 1px solid #e5e7eb;
      font-size: 14px;
      color: #6b7280;
    }
  </style>
</head>

<body>
<div class="container">

<header>
  <h1>Search Intent Mismatch Checker</h1>
  <p>Instantly check whether your page content aligns with the real search intent behind a keyword.</p>
</header>

<label>
  Target Keyword
  <input id="keyword" placeholder="e.g. why invest in land">
</label>

<label>
  Page Content
  <textarea id="content" placeholder="Paste your page content here..."></textarea>
</label>

<button type="button" id="analyzeBtn" onclick="analyze()">Analyze Intent</button>

<div id="output"></div>

<footer>
  Built for SEO professionals.  
  No data is stored. All analysis runs locally in your browser.
</footer>

</div>

<script>
function analyze() {
  const output = document.getElementById('output');
  const button = document.getElementById('analyzeBtn');

  try {
    output.innerHTML = "";
    button.disabled = true;
    button.innerText = "Analyzing...";

    const keyword = document.getElementById('keyword').value.toLowerCase().trim();
    const rawContent = document.getElementById('content').value;
    const content = rawContent.toLowerCase().slice(0, 6000);

    if (!keyword || !content) {
      output.innerHTML = "<p>Please enter both keyword and page content.</p>";
      return;
    }

    const keywordData = detectKeywordIntent(keyword);
    const pageData = detectPageIntent(content);
    const verdict = getVerdict(keywordData.intent, pageData.intent);
    const fixes = getFixes(keywordData.intent, pageData.intent);
    const confidence = getConfidence(keywordData, pageData);

    output.innerHTML = `
      <div class="result ${verdict.class}">
        <h2>
          ${verdict.label} â€”
          <span class="${confidence.toLowerCase()}">
            ${confidence} Confidence
          </span>
        </h2>

        <p><strong>Keyword Intent:</strong>
          <span class="badge ${keywordData.intent.toLowerCase()}">
            ${keywordData.intent}
          </span>
        </p>
        <ul>${keywordData.reasons.map(r => `<li>${r}</li>`).join("")}</ul>

        <p><strong>Page Intent:</strong>
          <span class="badge ${pageData.intent.toLowerCase()}">
            ${pageData.intent}
          </span>
        </p>
        <ul>${pageData.reasons.map(r => `<li>${r}</li>`).join("")}</ul>

        <h3>How to Fix This</h3>
        <ul>${fixes.map(f => `<li>${f}</li>`).join("")}</ul>
      </div>
    `;
  } catch (e) {
    console.error(e);
    output.innerHTML = "<p>Something went wrong. Please try again.</p>";
  } finally {
    button.disabled = false;
    button.innerText = "Analyze Intent";
  }
}

function detectKeywordIntent(keyword) {
  let reasons = [];
  const transactional = ["buy","pricing","price","cost","sign up","download","trial"];
  const commercial = ["best","top","vs","compare","comparison","tools","software","review","benefits"];

  for (let w of transactional) {
    if (keyword.includes(w)) {
      reasons.push("Transactional modifier detected");
      return { intent: "Transactional", reasons };
    }
  }

  for (let w of commercial) {
    if (keyword.includes(w)) {
      reasons.push("Commercial modifier detected");
      return { intent: "Commercial", reasons };
    }
  }

  reasons.push("No buying or comparison modifiers found");
  return { intent: "Informational", reasons };
}

function detectPageIntent(content) {
  let reasons = [];
  const transactional = ["buy","pricing","sign up","get started","money-back","order"];
  const commercial = ["compare","best","vs","alternatives","features","benefits","reviews"];

  for (let w of transactional) {
    if (content.includes(w)) {
      reasons.push("Transactional language detected");
      return { intent: "Transactional", reasons };
    }
  }

  for (let w of commercial) {
    if (content.includes(w)) {
      reasons.push("Evaluation or comparison language detected");
      return { intent: "Commercial", reasons };
    }
  }

  reasons.push("Content is primarily educational");
  return { intent: "Informational", reasons };
}

function getVerdict(keywordIntent, pageIntent) {
  if (keywordIntent === pageIntent) {
    return { label: "ðŸŸ¢ Intent Match", class: "match" };
  }
  if (keywordIntent === "Informational" && pageIntent !== "Informational") {
    return { label: "ðŸ”´ Strong Mismatch", class: "mismatch" };
  }
  if (keywordIntent === "Transactional" && pageIntent !== "Transactional") {
    return { label: "ðŸ”´ Strong Mismatch", class: "mismatch" };
  }
  return { label: "ðŸŸ¡ Partial Mismatch", class: "partial" };
}

function getFixes(keywordIntent, pageIntent) {
  if (keywordIntent === pageIntent) {
    return ["Your content already matches the search intent."];
  }
  if (keywordIntent === "Informational") {
    return [
      "Remove pricing and sales language",
      "Focus on education and explanations",
      "Add definitions, examples, and FAQs"
    ];
  }
  if (keywordIntent === "Commercial") {
    return [
      "Add comparisons or benefit-driven sections",
      "Mention multiple options or use cases",
      "Reduce direct sales pressure"
    ];
  }
  return [
    "Add pricing or offers",
    "Include strong CTAs (Buy, Sign up)",
    "Focus content on conversion"
  ];
}

function getConfidence(keywordData, pageData) {
  let score = 0;
  score += keywordData.reasons.length * 2;
  score += pageData.reasons.length * 2;
  if (keywordData.intent === "Transactional" || pageData.intent === "Transactional") score += 2;
  if (score >= 6) return "High";
  if (score >= 4) return "Medium";
  return "Low";
}

document.getElementById('keyword').addEventListener('input', () => {
  document.getElementById('output').innerHTML = "";
});
document.getElementById('content').addEventListener('input', () => {
  document.getElementById('output').innerHTML = "";
});
</script>

</body>
</html>
